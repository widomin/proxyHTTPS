# HTTPS Proxy Setup Guide

This project provides an HTTPS proxy setup using Nginx for local development, allowing you to run your frontend and backend services with HTTPS support.

## Prerequisites

- Docker and Docker Compose
- mkcert (for generating local SSL certificates)

## Installation Steps

### 1. Install mkcert

#### On Ubuntu/Debian:
```bash
sudo apt install libnss3-tools
sudo apt install mkcert
```

#### On macOS:
```bash
brew install mkcert
```

### 2. Generate SSL Certificates

```bash
# Create a directory for certificates
mkdir -p certs

# Install mkcert root CA
mkcert -install

# Generate certificates for localhost
mkcert -key-file certs/key.pem -cert-file certs/cert.pem localhost 127.0.0.1
```

### 3. Environment Configuration

Create a `.env` file in the root directory with the following content:

```env
FRONTEND_PORT=8080
BACKEND_PORT=5000
FRONTEND_HTTPS_PORT=443
BACKEND_HTTPS_PORT=4443
```

You can modify these ports according to your needs.

### 4. Start the Proxy

```bash
docker-compose up -d
```

## Usage

After starting the proxy, your services will be available at:

- Frontend: https://localhost:443 (redirects from http://localhost:80)
- Backend API: https://localhost:4443/api

## Configuration

The proxy is configured to:
- Automatically redirect HTTP to HTTPS
- Forward frontend requests to http://localhost:${FRONTEND_PORT}
- Forward backend API requests to http://localhost:${BACKEND_PORT}

## Troubleshooting

1. **Certificate Issues**:
   - Make sure you've installed the mkcert root CA
   - Verify that the certificates are properly generated in the `certs` directory

2. **Port Conflicts**:
   - If you encounter port conflicts, modify the ports in your `.env` file
   - Make sure no other services are using the configured ports

3. **Connection Refused**:
   - Verify that your frontend and backend services are running
   - Check if the ports in `.env` match your service configurations

## Security Note

The certificates generated by mkcert are for development purposes only. Never use them in production environments. 